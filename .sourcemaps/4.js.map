{"version":3,"sources":["../../src/pages/profile/profile.module.ts","../../src/pages/profile/profile.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProfilePage } from './profile';\n\n@NgModule({\n  declarations: [\n    ProfilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProfilePage),\n  ],\n})\nexport class ProfilePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, Alert, AlertController } from 'ionic-angular';\nimport { ProfileProvider } from '../../providers/profile/profile';\nimport { AuthProvider } from '../../providers/auth/auth';\n\n@IonicPage()\n@Component({\n  selector: 'page-profile',\n  templateUrl: 'profile.html',\n})\nexport class ProfilePage {\n  public userProfile:any;\n  public birthDate:string;\n\n  constructor(public navCtrl:NavController, public alertCtrl:AlertController, \n    public authProvider:AuthProvider, public profileProvider:ProfileProvider) {}\n\n  ionViewDidLoad() {\n    this.profileProvider.getUserProfile().on('value', userProfileSnapshot => {\n      this.userProfile = userProfileSnapshot.val();\n      this.birthDate = userProfileSnapshot.val().birthDate;\n    });\n  }\n\n  logOut():void {\n    this.authProvider.logoutUser().then( () => {\n      this.navCtrl.setRoot('LoginPage');\n    });\n  }\n\n  updateName():void {\n    const alert:Alert = this.alertCtrl.create({\n      message: \"Your first name & last name\",\n      inputs: [\n        {\n          name: 'firstName',\n          placeholder: 'Your first name',\n          value: this.userProfile.firstName\n        },\n        {\n          name: 'lastName',\n          placeholder: 'Your last name',\n          value: this.userProfile.lastName\n        },\n      ],\n      buttons: [\n        { text: 'Cancel' },\n        {\n          text: 'Save',\n          handler: data => {\n            this.profileProvider.updateName(data.firstName, data.lastName);\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  updateDOB(birthDate:string):void {\n    this.profileProvider.updateDOB(birthDate);\n  }\n\n  updateEmail():void {\n    let alert:Alert = this.alertCtrl.create({\n      inputs: [\n        {\n          name: 'newEmail',\n          placeholder: 'Your new email',\n        },\n        {\n          name: 'password',\n          placeholder: 'Your password',\n          type: 'password'\n        },\n      ],\n      buttons: [\n        { text: 'Cancel' },\n        {\n          text: 'Save',\n          handler: data => {\n            let newEmail = data.newEmail;\n\n            this.profileProvider.updateEmail(data.newEmail, data.password).then( () =>{\n              console.log(\"Email Changed Successfully\");\n            }).catch(error => {\n              console.log('ERROR: '+error.message);\n            });\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  updatePassword():void {\n    let alert:Alert = this.alertCtrl.create({\n      inputs: [\n        {\n          name: 'newPassword',\n          placeholder: 'Your new password',\n          type: 'password'\n        },\n        {\n          name: 'oldPassword',\n          placeholder: 'Your old password',\n          type: 'password'\n        },\n      ],\n      buttons: [\n        { text: 'Cancel' },\n        {\n          text: 'Save',\n          handler: data => {\n            this.profileProvider.updatePassword(data.newPassword, data.oldPassword);\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts"],"sourceRoot":""}